<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community Guidelines - MorphEcho</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Simple styles for the guidelines page content */
        .guidelines-container {
            max-width: 800px; /* Wider for readability */
            margin: 2rem auto; /* Center with top/bottom margin */
            padding: 0 1rem;
            background-color: #fff;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            padding: 2rem;
        }
        .guidelines-container h1 {
            font-size: 1.5rem; /* text-2xl */
            font-weight: 700; /* font-bold */
            color: #111827; /* gray-900 */
            margin-bottom: 1rem; /* mb-4 */
        }
        .guidelines-container h2 {
            font-size: 1.25rem; /* text-xl */
            font-weight: 600; /* font-semibold */
            color: #1f2937; /* gray-800 */
            margin-top: 1.5rem; /* mt-6 */
            margin-bottom: 0.75rem; /* mb-3 */
        }
        .guidelines-container p {
            margin-bottom: 1rem; /* mb-4 */
            color: #374151; /* gray-700 */
            line-height: 1.6;
        }
        .guidelines-container ul {
            list-style-type: disc;
            padding-left: 1.5rem; /* pl-6 */
            margin-bottom: 1rem; /* mb-4 */
            color: #374151; /* gray-700 */
        }
        .guidelines-container li {
            margin-bottom: 0.5rem; /* mb-2 */
        }
        .back-link {
            display: inline-block;
            margin-top: 1rem;
            color: #3b82f6; /* blue-500 */
            text-decoration: none;
        }
        .back-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <div id="app">
        <div class="guidelines-container">
        <header class="text-center my-6">
            <a href="/" class="flex items-center text-gray-900 font-bold text-xl">
                <img src="/android-chrome-192x192.png" alt="MorphEcho Logo" class="h-8 mr-2" style="margin: 0 auto;">
            </a>
            <h1 class="text-2xl font-bold text-gray-900">MorphEcho</h1>
            <p class="text-gray-600 text-sm">Share ephemeral, AI-scrambled whispers ðŸ¤«.</p>
        </header>
        
        <h1>Community Guidelines</h1>

        <p>Welcome to MorphEcho, a space for ephemeral, anonymous expression. To keep this space respectful and enjoyable for everyone, please follow these guidelines:</p>

        <h2>Core Principles</h2>
        <ul>
            <li><strong>Respect Anonymity:</strong> Remember, everyone is anonymous. Criticize ideas, not people.</li>
            <li><strong>Embrace Ephemerality:</strong> Whispers disappear. Share thoughts freely, but also respectfully, as they are temporary.</li>
            <li><strong>Be Kind:</strong> Harsh or hateful language detracts from the experience for everyone.</li>
        </ul>

        <h2>What is Not Allowed</h2>
        <p>We use automated systems and community reports to moderate content. The following will likely result in your whisper being hidden or you being rate-limited:</p>
        <ul>
            <li><strong>Hate Speech & Harassment:</strong> Attacks based on identity, personal harassment, or targeted negative "whispers".</li>
            <li><strong>Explicit Content:</strong> Profanity, nudity, graphic violence, or sexually suggestive material.</li>
            <li><strong>Spam & Nonsense:</strong> Repeated posting of gibberish, advertisements, or content designed to disrupt.</li>
            <li><strong>Doxxing & Personal Information:</strong> Sharing real names, addresses, phone numbers, or other private details of others.</li>
            <li><strong>Misinformation:</strong> Deliberately spreading false information intended to cause harm or panic.</li>
        </ul>

        <h2>How We Moderate</h2>
        <ul>
            <li><strong>AI Pre-Filtering:</strong> Your raw whisper is automatically checked for common abusive patterns before being processed by the scrambling AI.</li>
            <li><strong>Community Reporting:</strong> Users can flag whispers that violate guidelines. Repeatedly flagged content may be hidden.</li>
            <li><strong>Rate Limiting:</strong> To prevent spam, there are limits on how frequently a single wallet can mint whispers.</li>
        </ul>

        <h2>Remember</h2>
        <p>These guidelines are designed to foster a positive environment. While we strive for anonymity, persistent abuse may lead to actions like IP-based rate limiting or preventing specific wallets from minting.</p>
        <p>By using MorphEcho, you agree to these guidelines.</p>

        <a href="/" class="back-link">Back to MorphEcho</a>
        </div>
    </div>

    <!-- App Footer -->
    <div id="app-footer" class="mt-4"> 
        <footer class="text-center text-xs text-gray-500 py-3 bg-white border-top sticky-bottom">
            <!-- Statistics Section -->
            <div id="app-statistics" class="d-flex justify-content-center gap-3 flex-wrap mb-2">
                <span id="total-tokens-stat" class="text-xs">AI Tokens Used: <strong>Loading...</strong></span>
                <span id="total-whispers-stat" class="text-xs">Total Whispers: <strong>Loading...</strong></span>
                <span id="total-users-stat" class="text-xs">Community Members: <strong>Loading...</strong></span>
            </div>
            
            <p class="mb-1">MorphEcho - Decentralized Whispers</p>
            <p>
                <a href="/" class="text-blue-500 hover:underline">Back to MorphEcho</a>
            </p>
        </footer>
    </div>

    <script>
        // Load statistics for guidelines page
        async function loadStatistics() {
            try {
                const response = await fetch('/api/statistics');
                if (response.ok) {
                    const stats = await response.json();
                    
                    const totalTokensElement = document.getElementById('total-tokens-stat');
                    const totalWhispersElement = document.getElementById('total-whispers-stat');
                    const totalUsersElement = document.getElementById('total-users-stat');
                    
                    if (totalTokensElement) {
                        totalTokensElement.innerHTML = `AI Tokens Used: <strong>${stats.total_ai_tokens_consumed?.toLocaleString() || 0}</strong>`;
                    }
                    if (totalWhispersElement) {
                        totalWhispersElement.innerHTML = `Total Whispers: <strong>${stats.total_whispers_minted?.toLocaleString() || 0}</strong>`;
                    }
                    if (totalUsersElement) {
                        totalUsersElement.innerHTML = `Community Members: <strong>${stats.total_users_connected?.toLocaleString() || 0}</strong>`;
                    }
                }
            } catch (error) {
                console.error('Error loading statistics:', error);
            }
        }

        // Load statistics when page loads
        document.addEventListener('DOMContentLoaded', loadStatistics);
    </script>
</body>
</html>